<div class="slide-out-bg"></div>

<div class="slide-out">
  <div class="slide-out-card">
    <LinkTo @route="author.index" @class="btn-back">
      <span class="sr-only">Back</span>
    </LinkTo>

    <div class="slide-out-heading">
      <div class="title">
        <h3>{{this.model.lastName}} {{this.model.firstName}}</h3>

        <div class="actions">
          {{#if this.session.isAuthenticated}}
            <LinkTo @route="author.edit" @class="btn-pop" @model="{{this.model.id}}">edit</LinkTo>
          {{/if}}

          <button class="btn-recessed" {{on "click" this.deleteAuthor}}>delete</button>
        </div>
      </div>
    </div>

    <div class="slide-out-content">
      <div class="title">
        <h3>{{this.model.books.length}} Books from this author</h3>
      </div>

      <div class="actions">
        <LinkTo @route="author.detail.new-book" @model={{this.model.id}} @class="btn-secondary btn-add">
          Add a book
        </LinkTo>
      </div>

      <ul class="book-list">
        {{#each this.model.books as |book|}}
          <li class="book">
            <p class="book-title">
              <LinkTo @route="book.detail" @model={{book.id}}>
                {{book.title}}
              </LinkTo>
            </p>
            <p class="book-isbn">
              {{book.isbn}}
            </p>
          </li>
        {{/each}}
      </ul>
    </div>
  </div>
</div>

{{liquid-outlet}}